"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[164],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>b});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),d=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),p=d(n),b=o,m=p["".concat(l,".").concat(b)]||p[b]||s[b]||r;return n?a.createElement(m,i(i({ref:t},u),{},{components:n})):a.createElement(m,i({ref:t},u))}));function b(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=p;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:o,i[1]=c;for(var d=2;d<r;d++)i[d]=n[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},1408:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>s,frontMatter:()=>r,metadata:()=>c,toc:()=>d});var a=n(7462),o=(n(7294),n(3905));const r={sidebar_position:2},i="Creating database bot account",c={unversionedId:"advanced/database/database-bot-account",id:"advanced/database/database-bot-account",title:"Creating database bot account",description:"Creating a MongoDB account for your bot",source:"@site/docs/98-advanced/01-database/02-database-bot-account.md",sourceDirName:"98-advanced/01-database",slug:"/advanced/database/database-bot-account",permalink:"/arcybot/docs/advanced/database/database-bot-account",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Setting up MongoDB",permalink:"/arcybot/docs/advanced/database/setting-up-mongodb"},next:{title:"Browsing database",permalink:"/arcybot/docs/advanced/database/using-your-database"}},l={},d=[{value:"Creating a MongoDB account for your bot",id:"creating-a-mongodb-account-for-your-bot",level:3},{value:"Connecting the bot to its MongoDB account",id:"connecting-the-bot-to-its-mongodb-account",level:3}],u={toc:d};function s(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"creating-database-bot-account"},"Creating database bot account"),(0,o.kt)("h3",{id:"creating-a-mongodb-account-for-your-bot"},"Creating a MongoDB account for your bot"),(0,o.kt)("p",null,"After installing and preparing the Administrator account, I recommend creating a secondary account for the bot with less permissions. This allows you to track what the bot does in the database, and also secures your database in case your bot's credentials get leaked."),(0,o.kt)("p",null,"To do this, use the following commands in the shell:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"mongo --port YOUR_PORT_HERE")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"use admin")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},'db.auth({"user":"YOUR_ADMIN_LOGIN", pwd:"YOUR_ADMIN_PASSWORD"})')),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},'db.createUser({"user":"YOUR_BOT_LOGIN", pwd:"YOUR_BOT_PASSWORD", roles: [{ "role":"readWrite", "db": "YOUR_BOT_DATABASE_NAME"}]})'))),(0,o.kt)("p",null,"You need to remember ",(0,o.kt)("inlineCode",{parentName:"p"},"YOUR_BOT_LOGIN")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"YOUR_BOT_PASSWORD")," so you can fill them in the next step into bot's configuration."),(0,o.kt)("h3",{id:"connecting-the-bot-to-its-mongodb-account"},"Connecting the bot to its MongoDB account"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"navigate to the ",(0,o.kt)("inlineCode",{parentName:"li"},"config.json")," file you've created earlier"),(0,o.kt)("li",{parentName:"ul"},"find the ",(0,o.kt)("inlineCode",{parentName:"li"},"DATABASE_URL")," field"),(0,o.kt)("li",{parentName:"ul"},"paste this into the ",(0,o.kt)("inlineCode",{parentName:"li"},"DATABASE_URL")," field:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'"mongodb://YOUR_BOT_LOGIN:YOUR_BOT_PASSWORD@DATABASE_HOST:DATABASE_PORT/YOUR_BOT_DATABASE_NAME?authSource=admin"\n')),(0,o.kt)("p",null,"Don't forget to edit that URL to reflect your data!"))}s.isMDXComponent=!0}}]);